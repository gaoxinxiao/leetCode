<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
<div onclick="aa()">123123</div>
    <script>

        function aa(){
            console.log(123)
        }

        function Fun() {
            this.name = 'gxx'
        }
        Fun.prototype.age = 2


        function $new(fn) {
            var obj = new Object()
            obj.__proto__ = fn.prototype
            var res = fn.apply(obj, arguments)
            return res instanceof Object ? res : obj
        }
        var Fun1 = $new(Fun)

        console.log(Fun1)

    </script>
    <script>

        let json = [{ "id": 39, "zbm": "典范行为", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "0", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "af707f8513ee4666855d3adc5158be52", "byzd": null, "byzds": null }, { "id": 40, "zbm": "重大奖励", "zbbm": "5765845317564be7ab0373fb9a061c6f", "zblx": "2", "dxsf": "6", "sjid": "af707f8513ee4666855d3adc5158be52", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "9e7ee5a2e8184ad69a1f129d40140af0", "byzd": "重大奖励-类型", "byzds": null }, { "id": 41, "zbm": "其他表彰", "zbbm": "774cbc6c2c4949bda450feb10b687e76", "zblx": "2", "dxsf": "6", "sjid": "af707f8513ee4666855d3adc5158be52", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "8c501a2d18b048ecbacd47fdfbb292e3", "byzd": "其他表彰-类型", "byzds": null }, { "id": 42, "zbm": "其他个人信用红名单", "zbbm": "8416d1409fc4480983df3943219cfc06", "zblx": "2", "dxsf": "6", "sjid": "af707f8513ee4666855d3adc5158be52", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "ff825d3757fc4563986bea5464461873", "byzd": "个人-其他个人信用红名单", "byzds": null }, { "id": 43, "zbm": "公德行为", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "0", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "93f3ceb8c8bb47eb8f3a8f54156dbdc4", "byzd": null, "byzds": null }, { "id": 44, "zbm": "公益行为", "zbbm": "a3f58bf653d34be0ad9c76c5ed6495af", "zblx": "2", "dxsf": "6", "sjid": "93f3ceb8c8bb47eb8f3a8f54156dbdc4", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "09dc86365ad04044a5f6dcdbfae5b3fc", "byzd": "公益行为-类型", "byzds": null }, { "id": 45, "zbm": "其他公德行为", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "93f3ceb8c8bb47eb8f3a8f54156dbdc4", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "a405217cb4ce4f13ae6106e657d840d3", "byzd": null, "byzds": null }, { "id": 46, "zbm": "自愿献血", "zbbm": "0f02cd2636f241c6a966b80a1b70cc44", "zblx": "2", "dxsf": "3", "sjid": "a405217cb4ce4f13ae6106e657d840d3", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "a7bffb3cc0d247b4b311822335282b62", "byzd": "个人-自愿献血信息&&个人-年龄", "byzds": null }, { "id": 47, "zbm": "志愿者服务", "zbbm": "0beca0e5c38f40a587a80ff6fe754d3b", "zblx": "2", "dxsf": "6", "sjid": "a405217cb4ce4f13ae6106e657d840d3", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "fa81597c6bcd43ff8361f1f5ce9ec258", "byzd": "个人-志愿者服务", "byzds": null }, { "id": 48, "zbm": "其他", "zbbm": "ea055dad46f648a0b02cb0a8301561d3", "zblx": "2", "dxsf": "6", "sjid": "a405217cb4ce4f13ae6106e657d840d3", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "d130693db18a40e38dc10971e459b2f6", "byzd": "个人-其他公的行为", "byzds": null }, { "id": 49, "zbm": "诚信守法", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "0", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "f26085b6c7bc45a0be6101e171a69a3c", "byzd": null, "byzds": null }, { "id": 50, "zbm": "依法纳税", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "f26085b6c7bc45a0be6101e171a69a3c", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "a438c37555ed4417863f07acd805992d", "byzd": null, "byzds": null }, { "id": 51, "zbm": "纳税申报", "zbbm": "2198e8e705e54414b13a9de0a2b08f1c", "zblx": "2", "dxsf": "1", "sjid": "a438c37555ed4417863f07acd805992d", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "16e6cc3a0c27400bb1ac6394234cf897", "byzd": "个人所得税申报信息", "byzds": null }, { "id": 52, "zbm": "纳税状态", "zbbm": "24cfd05032264360bcd5d3f68bf8a312", "zblx": "2", "dxsf": "1", "sjid": "a438c37555ed4417863f07acd805992d", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "3a10762c3d6645f8887b941a691ada38", "byzd": "个人-纳税状态", "byzds": null }, { "id": 53, "zbm": "纳税等级", "zbbm": "34f49ed3421042019eafdeb2e63e4120", "zblx": "2", "dxsf": "1", "sjid": "a438c37555ed4417863f07acd805992d", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "6d3e1a9fda9344b0adf1070347303736", "byzd": "个人-纳税等级", "byzds": null }, { "id": 54, "zbm": "自觉履行生效法律文书", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "f26085b6c7bc45a0be6101e171a69a3c", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "9e312244bfba4c01bcaaac974472feff", "byzd": null, "byzds": null }, { "id": 55, "zbm": "履行判决义务", "zbbm": "f8e046f56fe44096b5ddce5ec5a1a824", "zblx": "2", "dxsf": "1", "sjid": "9e312244bfba4c01bcaaac974472feff", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "1f328a57a0ef404cb8741b64ee40a133", "byzd": "自觉履行判决义务", "byzds": null }, { "id": 56, "zbm": "履行裁定义务", "zbbm": "a55fc62b781b4b8b89b4fb5a6be4bd0c", "zblx": "2", "dxsf": "1", "sjid": "9e312244bfba4c01bcaaac974472feff", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "1816f80555604dd49087939ea3a64790", "byzd": "自觉履行裁定义务", "byzds": null }, { "id": 57, "zbm": "履行行政决定", "zbbm": "044d46aff0494feebb16e88c2153173b", "zblx": "2", "dxsf": "1", "sjid": "9e312244bfba4c01bcaaac974472feff", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "1f677ca0a36e4b699bd7223c7c2d3292", "byzd": "自觉履行行政决定义务", "byzds": null }, { "id": 58, "zbm": "履行其他生效法律文书", "zbbm": "536ac961a256421ab92dc6045f2bb719", "zblx": "2", "dxsf": "1", "sjid": "9e312244bfba4c01bcaaac974472feff", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "5b32038a5e4e491db55c56ec183dc1e2", "byzd": "自觉履行其它生效法律文书", "byzds": null }, { "id": 59, "zbm": "履行其他法定义务", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "f26085b6c7bc45a0be6101e171a69a3c", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "48c0102753ad4e7a87e60876444b1b9c", "byzd": null, "byzds": null }, { "id": 60, "zbm": "履行出庭作证", "zbbm": "d14062c7cac94b48b480cd4dfe267d19", "zblx": "2", "dxsf": "1", "sjid": "48c0102753ad4e7a87e60876444b1b9c", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "f5d95bd3879346abb4cec45329f13dd8", "byzd": "履行出庭作证义务", "byzds": null }, { "id": 61, "zbm": "履行陪审义务", "zbbm": "db93c1de09014cd6be97f0cb0847ccb4", "zblx": "2", "dxsf": "1", "sjid": "48c0102753ad4e7a87e60876444b1b9c", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "1b895ca6ae2647f294b837f4744fc859", "byzd": "履行陪审义务", "byzds": null }, { "id": 62, "zbm": "参与听证会", "zbbm": "d5eb0261a5944359a9f14776bfe7b330", "zblx": "2", "dxsf": "1", "sjid": "48c0102753ad4e7a87e60876444b1b9c", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "7ce318dcac014a45be7e4ffbaa97b696", "byzd": "参与听证会", "byzds": null }, { "id": 63, "zbm": "基础信用", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "0", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "40d9fff6b8de4a49a487c1191f5a3087", "byzd": null, "byzds": null }, { "id": 64, "zbm": "基础指标（身份）", "zbbm": "318e3ae23a3c4be9a90759764b2483a8", "zblx": "2", "dxsf": "1", "sjid": "40d9fff6b8de4a49a487c1191f5a3087", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "aa7d9f3790e0494e8b98ae23d32c45f5", "byzd": "个人-基础信用信息（身份）", "byzds": null }, { "id": 65, "zbm": "基础指标（户籍）", "zbbm": "315a34cf3ee9487bbfdcb70d7be6aa93", "zblx": "2", "dxsf": "1", "sjid": "40d9fff6b8de4a49a487c1191f5a3087", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "61bb04eeed6c43618bcf7ebba71c9279", "byzd": "个人-基础信用信息（户籍）", "byzds": null }, { "id": 66, "zbm": "基础指标（婚姻）", "zbbm": "ad0b793c74e54973b7d4bafd3c04e578", "zblx": "2", "dxsf": "1", "sjid": "40d9fff6b8de4a49a487c1191f5a3087", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "a49cee5b102344efbffb13f3acb2a53a", "byzd": "个人-基础信用信息（婚姻）", "byzds": null }, { "id": 67, "zbm": "基础指标（社保）", "zbbm": "fc135e633b834e67b1bc2bf867eb1995", "zblx": "2", "dxsf": "1", "sjid": "40d9fff6b8de4a49a487c1191f5a3087", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "b28730d847314a5f895fafbb40a51779", "byzd": "个人-基础信用信息（社保）", "byzds": null }, { "id": 68, "zbm": "基础指标（其他）", "zbbm": "da581e0aef7145458c66d0c1d38e5cc6", "zblx": "2", "dxsf": "1", "sjid": "40d9fff6b8de4a49a487c1191f5a3087", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "758c727158fd46cf872236767fe92f8e", "byzd": "个人-基础信用信息（其他）", "byzds": null }, { "id": 69, "zbm": "基础指标（补充）", "zbbm": "1b7f62fb569c492daad7c5c512f6424a", "zblx": "2", "dxsf": "1", "sjid": "40d9fff6b8de4a49a487c1191f5a3087", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "2be5949cdf33468496ea50df7dd963e9", "byzd": "个人-基础信用信息（补充）", "byzds": null }, { "id": 70, "zbm": "违约失信", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "0", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "c5caaf16a8ea4c5ea03dd650a3cbe97e", "byzd": null, "byzds": null }, { "id": 71, "zbm": "公共服务领域失信", "zbbm": "1778182080754589829c63adc772070d", "zblx": "2", "dxsf": "6", "sjid": "c5caaf16a8ea4c5ea03dd650a3cbe97e", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "862017c565fd4e758be0f3a6bdd880c9", "byzd": "公共服务领域-类型", "byzds": null }, { "id": 72, "zbm": "重点领域失信", "zbbm": "ceaa44b58c1f44539a0a677145480a59", "zblx": "2", "dxsf": "6", "sjid": "c5caaf16a8ea4c5ea03dd650a3cbe97e", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "3e17d09a17ee45d9bb712b26e84a3ccf", "byzd": "重点领域失信-类型", "byzds": null }, { "id": 73, "zbm": "违法失信", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "0", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "004b048e379c4941bbd00e21baacf5f6", "byzd": null, "byzds": null }, { "id": 74, "zbm": "行政违法指标", "zbbm": "262e728c0c6d4652a905a8d46a170c63", "zblx": "2", "dxsf": "6", "sjid": "004b048e379c4941bbd00e21baacf5f6", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "cff10772b03e483d864be1e97bfabb2e", "byzd": "行政违法-类型", "byzds": null }, { "id": 75, "zbm": "严重失信", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "0", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "47066eee25444d8f97b8a8e3a8758cb7", "byzd": null, "byzds": null }, { "id": 76, "zbm": "严重失信指标", "zbbm": "e3e1aa96951140eb99fee15298411f08", "zblx": "2", "dxsf": "6", "sjid": "47066eee25444d8f97b8a8e3a8758cb7", "zbdj": null, "glmx": "f28fb000ef934d51a51ea8c7c3439843", "cjsj": null, "bz": "56479155b1a04193a5f6c111418743a5", "byzd": "严重失信-类型", "byzds": null }]

        function mapTreeData(tree = [], pid = null) {
            const nextTree = tree.map((item) => {

                const zbbm = item.zbbm ? item.zbbm : '123'// 树形新增节点，没有zbbm字段，需要前端随机生成uuid


                if (item.children && item.children.length) {
                    return { ...item, zbbm, sjid: pid, children: this.mapTreeData(item.children, zbbm) }
                }
                delete item.children



                return { ...item, zbbm, sjid: pid }
            })
            return nextTree
        }

        mapTreeData(json)

    </script>
    <script>
        let list = [{ "id": "8bae731830174e86906ed3327b6f0142", "zbm": "国家", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "", "glmx": "", "isEdit": false, "children": [{ "id": "14cccc0371174783856fea2e15923292", "zbm": "政府机构", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "", "glmx": "", "isEdit": false, "children": [{ "id": "d27bf0ab2dd644b8bcf6f27c401aff70", "zbm": "其他表彰", "zbbm": "774cbc6c2c4949bda450feb10b687e76", "zblx": "2", "dxsf": "6", "zbjsgs": "其他表彰类型", "sjid": "", "glmx": "", "isEdit": false, "children": [] }] }, { "id": "0729a9b84cf24c3399671e4ef0fec454", "zbm": "企业", "zbbm": "", "zblx": "", "dxsf": "", "sjid": "", "glmx": "", "isEdit": false, "children": [{ "id": "144668c96d284d929ae3ff01fe2c4a7a", "zbm": "严重失信指标", "zbbm": "e3e1aa96951140eb99fee15298411f08", "zblx": "2", "dxsf": "6", "zbjsgs": "严重失信类型", "sjid": "", "glmx": "", "isEdit": false, "children": [] }, { "id": "8d90432e293e4659ae93c8053be14086", "zbm": "行政违法指标", "zbbm": "262e728c0c6d4652a905a8d46a170c63", "zblx": "2", "dxsf": "6", "zbjsgs": "行政违法类型", "sjid": "", "glmx": "", "isEdit": false, "children": [] }] }] }]
    </script>
</body>

</html>